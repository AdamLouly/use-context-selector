!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).useContextSelector={},e.react)}(this,function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var r=Symbol("CONTEXT_LISTENERS"),n=function(e,n){var u=e[r];if(!u)throw new Error("useContextSelector requires special context");var o=t.useReducer(function(e){return e+1},0)[1],c=t.useContext(e),f=n(c),i=t.useRef(null);return t.useLayoutEffect(function(){i.current={selector:n,value:c,selected:f}}),t.useLayoutEffect(function(){var e=function(e){try{if(i.current.value===e||Object.is(i.current.selected,i.current.selector(e)))return}catch(e){}o()};return u.add(e),function(){u.delete(e)}},[o,u]),f};e.createContext=function(e){var n,u,o=t.createContext(e,function(){return 0});return o[r]=new Set,o.Provider=(n=o.Provider,u=o[r],t.memo(function(e){var r=e.value,o=e.children;return u.some(function(e){e(r)}),t.createElement(n,{value:r},o)})),delete o.Consumer,o},e.useContext=function(e){return n(e,function(e){return e})},e.useContextSelector=n});
//# sourceMappingURL=index.umd.js.map
