!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],r):r((e=e||self).useContextSelector={},e.react)}(this,function(e,r){var t=Symbol(),n=function(e){return e},u=function(e,r){var t=e.current.l;return t.add(r),function(){return t.delete(r)}};e.createContext=function(e){var n,u,o=r.createMutableSource({current:e},function(){return e}),c=r.createContext(((n={})[t]=o,n));return c.Provider=(u=c.Provider,r.memo(function(e){var n,o=e.value,c=e.children,i=r.useRef(((n={}).v=o,n.l=new Set,n));r.useEffect(function(){i.current.v=o,i.current.l.forEach(function(e){return e()})});var f=r.useMemo(function(){var e;return(e={})[t]=r.createMutableSource(i,function(){return i.current.v}),e},[]);return r.createElement(u,{value:f},c)})),delete c.Consumer,c},e.useContext=function(e,o){void 0===o&&(o=n);var c=r.useContext(e)[t];if("production"!==process.env.NODE_ENV&&!c)throw new Error("This useContext requires special context for selector support");var i=r.useCallback(function(e){return o(e.current.v)},[o]);return r.useMutableSource(c,i,u)}});
//# sourceMappingURL=index.umd.js.map
