!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("scheduler")):"function"==typeof define&&define.amd?define(["exports","react","scheduler"],r):r((e=e||self).useContextSelector={},e.react,e.scheduler)}(this,function(e,r,t){var n="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,u=Symbol(),o=Symbol(),i=new WeakMap,c=function(e){return e},a=function(e,r){var t=e.current.l;return t.add(r),function(){return t.delete(r)}};e.createContext=function(e){var o,i,c=r.createMutableSource({current:e},function(){return e}),a=r.createContext(((o={})[u]=c,o));return a.Provider=(i=a.Provider,r.memo(function(e){var o,c=e.value,a=e.children,f=r.useRef(((o={}).v=c,o.l=new Set,o));n(function(){f.current.v=c,t.unstable_runWithPriority(t.unstable_NormalPriority,function(){f.current.l.forEach(function(e){return e()})})});var l=r.useMemo(function(){var e;return(e={})[u]=r.createMutableSource(f,function(){return f.current.v}),e},[]);return r.createElement(i,{value:l},a)})),delete a.Consumer,a},e.useContext=function(e,t){void 0===t&&(t=c);var n=r.useContext(e)[u];if("production"!==process.env.NODE_ENV&&!n)throw new Error("This useContext requires special context for selector support");var f=r.useCallback(function(e){var r=t(e.current.v);if("function"==typeof r){var n;if(i.has(r))return i.get(r);var u=((n={})[o]=r,n);return i.set(r,u),u}return r},[t]),l=r.useMutableSource(n,f,a);return l&&l[o]?l[o]:l},e.wrapCallbackWithPriority=function(e){return function(){var r=arguments;return t.unstable_runWithPriority(t.unstable_UserBlockingPriority,function(){return e.apply(void 0,[].slice.call(r))})}}});
//# sourceMappingURL=index.umd.js.map
