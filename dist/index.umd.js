!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).useContextSelector={},e.react)}(this,function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var n="production"!==process.env.NODE_ENV?Symbol("CONTEXT_LISTENERS"):Symbol(),r=function(e,r){var o=e[n];if("production"!==process.env.NODE_ENV&&!o)throw new Error("useContextSelector requires special context");var u=t.useReducer(function(e){return e+1},0)[1],c=t.useContext(e),f=r(c),i=t.useRef(null);return t.useLayoutEffect(function(){i.current={f:r,v:c,s:f}}),t.useLayoutEffect(function(){var e=function(e){try{if(i.current.v===e||Object.is(i.current.s,i.current.f(e)))return}catch(e){}u()};return o.add(e),function(){o.delete(e)}},[o]),f};e.createContext=function(e){var r,o,u=t.createContext(e,function(){return 0});return u[n]=new Set,u.Provider=(r=u.Provider,o=u[n],t.memo(function(e){var n=e.value,u=e.children;return"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV?t.useLayoutEffect(function(){o.forEach(function(e){e(n)})}):o.forEach(function(e){e(n)}),t.createElement(r,{value:n},u)})),delete u.Consumer,u},e.useContext=function(e){return r(e,function(e){return e})},e.useContextSelector=r});
//# sourceMappingURL=index.umd.js.map
