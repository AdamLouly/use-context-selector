var e=require("react"),r=require("scheduler"),t="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?e.useEffect:e.useLayoutEffect,n=Symbol(),u=function(e){return e},o=function(e,r){var t=e.current.l;return t.add(r),function(){return t.delete(r)}};exports.createContext=function(u){var o,i,c=e.createMutableSource({current:u},function(){return u}),a=e.createContext(((o={})[n]=c,o));return a.Provider=(i=a.Provider,e.memo(function(u){var o,c=u.value,a=u.children,l=e.useRef(((o={}).v=c,o.l=new Set,o));t(function(){l.current.v=c,r.unstable_runWithPriority(r.unstable_NormalPriority,function(){l.current.l.forEach(function(e){return e()})})});var s=e.useMemo(function(){var r;return(r={})[n]=e.createMutableSource(l,function(){return l.current.v}),r},[]);return e.createElement(i,{value:s},a)})),delete a.Consumer,a},exports.useContext=function(r,t){void 0===t&&(t=u);var i=e.useContext(r)[n];if("production"!==process.env.NODE_ENV&&!i)throw new Error("This useContext requires special context for selector support");var c=e.useCallback(function(e){return t(e.current.v)},[t]);return e.useMutableSource(i,c,o)},exports.wrapCallbackWithPriority=function(e){return function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return r.unstable_runWithPriority(r.unstable_UserBlockingPriority,function(){return e.apply(void 0,n)})}};
//# sourceMappingURL=index.js.map
