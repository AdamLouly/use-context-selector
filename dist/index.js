var e,t=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e,r=function(e){return e+1},n=function(){return 0},u=function(e){return e},c=Symbol("CONTEXT_LISTENERS"),o=function(e,n){var u=e[c];if(!u)throw new Error("useContextSelector requires special context");var o=t.useReducer(r,0)[1],f=t.useContext(e),a=n(f),i=t.useRef(null);return t.useLayoutEffect(function(){i.current={selector:n,value:f,selected:a}}),t.useLayoutEffect(function(){var e=function(e){try{if(i.current.value===e||Object.is(i.current.selected,i.current.selector(e)))return}catch(e){}i.current.value=e,o()};return u.add(e),function(){u.delete(e)}},[o,u]),a};exports.createContext=function(e){var r=t.createContext(e,n),u=new Set;return r[c]=u,r.Provider=function(e,r){return t.memo(function(n){var u=n.value,c=n.children;return t.useLayoutEffect(function(){r.forEach(function(e){return e(u)})},[u]),t.createElement(e,{value:u},c)})}(r.Provider,u),delete r.Consumer,r},exports.useContext=function(e){return o(e,u)},exports.useContextSelector=o;
//# sourceMappingURL=index.js.map
